<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Kayan | Categories</title>
		<!-- favicons Icons -->
		<link rel="apple-touch-icon" sizes="180x180" href="assets/images/fav.png" />
	<link rel="icon" type="image/png" sizes="32x32" href="assets/images/fav.png">
	<link rel="icon" type="image/png" sizes="16x16" href="assets/images/fav.png">
	<link rel="manifest" href="assets/images/fav.png">
		<meta name="description" content="We provides a full range of interior design, architectural design." />
	
		<!-- fonts -->
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link
			href="https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
			rel="stylesheet">
	
	
		<link rel="stylesheet" href="assets/vendors/bootstrap/css/bootstrap.min.css" />
		<link rel="stylesheet" href="assets/vendors/animate/animate.min.css" />
		<link rel="stylesheet" href="assets/vendors/fontawesome/css/all.min.css" />
		<link rel="stylesheet" href="assets/vendors/jarallax/jarallax.css" />
		<link rel="stylesheet" href="assets/vendors/jquery-magnific-popup/jquery.magnific-popup.css" />
		<link rel="stylesheet" href="assets/vendors/nouislider/nouislider.min.css" />
		<link rel="stylesheet" href="assets/vendors/nouislider/nouislider.pips.css" />
		<link rel="stylesheet" href="assets/vendors/odometer/odometer.min.css" />
		<link rel="stylesheet" href="assets/vendors/swiper/swiper.min.css" />
		<link rel="stylesheet" href="assets/vendors/aivons-icons/style.css">
		<link rel="stylesheet" href="assets/vendors/tiny-slider/tiny-slider.min.css" />
		<link rel="stylesheet" href="assets/vendors/reey-font/stylesheet.css" />
		<link rel="stylesheet" href="assets/vendors/owl-carousel/owl.carousel.min.css" />
		<link rel="stylesheet" href="assets/vendors/owl-carousel/owl.theme.default.min.css" />
		<link rel="stylesheet" href="assets/vendors/twentytwenty/twentytwenty.css" />
		<link rel="stylesheet" href="assets/vendors/bxslider/css/jquery.bxslider.css" />
		<!-- template styles -->
		<link rel="stylesheet" href="assets/css/aivons.css" />
		<link rel="stylesheet" href="assets/css/aivons-responsive.css" />
	
		<!-- RTL Styles -->
		<link rel="stylesheet" href="assets/css/aivons-rtl.css">
	
		<!-- color css -->
		<link rel="stylesheet" id="jssDefault" href="assets/css/colors/color-default.css">
		<link rel="stylesheet" id="jssMode" href="assets/css/modes/aivons-normal.css">
	
		<!-- toolbar css -->
		<link rel="stylesheet" href="assets/css/aivons-toolbar.css">
		<link rel="shortcut icon" type="image/x-icon" href="images/favicon.png" />
		<link rel="stylesheet" href="css/bootstrap.min.css" />
		<link rel="stylesheet" href="css/font-awesome.min.css" />
		<link rel="stylesheet" href="css/flaticon.css" />
		<link rel="stylesheet" href="css/owl.carousel.min.css" />
		<link rel="stylesheet" href="css/owl.theme.css" />
		<link rel="stylesheet" href="css/magnific-popup.css" />
		<link rel="stylesheet" href="css/lightgallery.css" />
		<link rel="stylesheet" href="css/woocommerce.css" />
		<link rel="stylesheet" href="css/royal-preload.css" />
	
		<link rel="stylesheet" href="style.css" />

		<style>
			.product-img-res{
				height: 350px;
				object-fit: cover;
				border-radius: 15px 15px 0 0;
			}
			.page-header{
				background-image: url(images/cat-img.png);
}
		</style>
	</head>

<body>



	<div id="royal_preloader"></div>
	<!-- /.preloader -->
	<div class="page-wrapper">
		<header id="site-header" class="site-header header-transparent">
            <!-- Main Header start -->
            <div class="octf-main-header is-fixed">
                <div class="octf-area-wrap">
                    <div class="container-fluid octf-mainbar-container">
                        <div class="octf-mainbar">
                            <div class="octf-mainbar-row octf-row">
                                <div class="octf-col logo-col no-padding">
                                    <div id="site-logo" class="site-logo">
                                        <a href="../../Website/index.html">
                                            <img src="images/logo-grey3.png" alt="Theratio" class="">
                                        </a>
                                    </div>
                                </div>
                                <div class="octf-col menu-col no-padding">
                                    <nav id="site-navigation" class="main-navigation">
                                        <ul class="menu">
                                            <li>
                                                <a href="../../Website/index.html">Home</a> </li>
                                           
                                            <li><a href="Brands.html">Brands</a></li>
                                            <li class="current-menu-item current-menu-ancestor"><a href="shop.html">Categories</a></li>
                                            
                                            <li><a href="../../Website/contact.html">Contact Us</a></li>
                                            <li><a href="../../Website/about-us.html">About Us</a></li>
                                        </ul>
                                    </nav>
                                </div>
                                <div class="octf-col cta-col text-right no-padding">
                                <!-- Call To Action -->
                                    <div class="octf-btn-cta">

                                        
                                        
                                        <div class="octf-sidepanel octf-cta-header">
                                            <div class="site-overlay panel-overlay"></div>
                                            <div id="panel-btn" class="panel-btn octf-cta-icons">
                                                <i class="ot-flaticon-menu"></i>
                                            </div>
                                        </div>
                                        
                                    </div>                              
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="header_mobile">
                <div class="container-fluid">
                    <div class="octf-mainbar-row octf-row">
                        <div class="octf-col">
                            <div class="mlogo_wrapper clearfix">
                                <div class="mobile_logo">
                                    <a href="../../Website/index.html">
                                        <img src="images/logo-grey3.png" alt="Theratio">
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="octf-col justify-content-end">
                            <div class="octf-search octf-cta-header">
                                <div class="toggle_search octf-cta-icons">
                                    <i class="ot-flaticon-search"></i>
                                </div>
                                <!-- Form Search on Header -->
                                <div class="h-search-form-field collapse">
                                    <div class="h-search-form-inner">
                                        <form role="search" method="get" class="search-form">
                                            <input type="search" class="search-field" placeholder="SEARCH..." value="" name="s">
                                            <button type="submit" class="search-submit"><i class="ot-flaticon-search"></i></button>
                                        </form>
                                    </div>                                  
                                </div>
                            </div>
                            <div class="octf-menu-mobile octf-cta-header">
                                <div id="mmenu-toggle" class="mmenu-toggle">
                                    <button><i class="ot-flaticon-menu"></i></button>
                                </div>
                                <div class="site-overlay mmenu-overlay"></div>
                                <div id="mmenu-wrapper" class="mmenu-wrapper on-right">
                                    <div class="mmenu-inner">
                                        <a class="mmenu-close" href="#"><i class="ot-flaticon-right-arrow"></i></a>
										<div class="mobile-nav">
                                            <ul id="menu-main-menu" class="mobile_mainmenu none-style">
                                                <li>
                                                    <a href="../../Website/index.html">Home</a></li>

                                                <li><a href="Brands.html">Brands</a> </li>
                                            
                                                <li class="current-menu-item current-menu-ancestor"><a href="shop.html">Categories</a></li>

                                                <li><a href="../../Website/about-us.html">About Us</a></li>
                                                <li><a href="../../Website/contact.html">Contact Us</a></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>
		<div id="side-panel" class="side-panel">
            <a href="#" class="side-panel-close"><i class="ot-flaticon-close-1"></i></a>
            <div class="side-panel-block">
                <div class="side-panel-wrap">
                    <div class="the-logo">
                        <a href="../../Website/index.html">
                            <img src="images/logo-grey3.png" alt="Theratio">
                        </a>                    
                    </div>
                    
                    <div class="ot-heading ">
                        <h2 class="main-heading">Contact Info</h2>
                    </div>
                    <div class="side-panel-cinfo">
						<ul class="panel-cinfo">
                            <li class="panel-list-item">
                                <span class="panel-list-icon"><i class="ot-flaticon-place"></i></span>
                                <span class="panel-list-text">18 November Street <br> Behind Porsche Showroom <br>Muscat 
                                    | Oman</span>
                            </li>
                            <li class="panel-list-item">
                                <span class="panel-list-icon"><i class="ot-flaticon-mail"></i></span>
                                <span class="panel-list-text">kitchens.art@kayanoman.com</span>
                            </li>
                            <li class="panel-list-item">
                                <span class="panel-list-icon"><i class="ot-flaticon-phone-call"></i></span>
                                <span class="panel-list-text">+968-24125994</span>
                            </li>
                        </ul>
                    </div>
                    <div class="side-panel-social">
                        <ul>
                            <li><a href="http://twitter.com" target="_self"><i class="fab fa-twitter"></i></a></li>
                            <li><a href="http://facebook.com" target="_self"><i class="fab fa-facebook-f"></i></a></li>
                            <li><a href="http://linkedin.com" target="_self"><i class="fab fa-linkedin-in"></i></a></li>
                            <li><a href="http://instagram" target="_self"><i class="fab fa-instagram"></i></a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

		<div class="stricky-header stricked-menu main-menu">
			<div class="sticky-header__content"></div><!-- /.sticky-header__content -->
		</div><!-- /.stricky-header -->

		<!--Page Header Start-->
		<section class="page-header">
			<!-- <div class="page-header__bg"></div>/.page-header__bg -->
			<!-- <div class="page-header-shape-1"></div>/.page-header-shape-1 -->
			<!-- <div class="page-header-shape-2"></div>/.page-header-shape-2 -->
			<!-- <div class="page-header-shape-3"></div>/.page-header-shape-3 -->
			<div class="container">
				<h1 class="page-title">Categories</h1>
				<ul id="breadcrumbs" class="breadcrumbs none-style">
					<li><a href="../../Website/index.html">Home</a></li>
					<li class="active">Categories</li>
				</ul>    
			</div>
		</section>
		<!--Page Header End-->




		<section class="shop-one">
			<div class="container">
				<div class="row">

					<div class="col-xl-3">
						<div class="shop-one__sidebar">
							<div class="shop-one__sidebar__item shop-one__sidebar__search">
								<form action="#">
									<input type="text" id="search-input" placeholder="Search for products..." />
									<button type="submit" id="search-button"><i class=" icon-magnifying-glass1 "></i></button>
								</form>

							</div><!-- /.shop-one__sidebar__item -->

							<div class="shop-one__sidebar__item shop-one__sidebar__category filters">
								<h3 class="shop-one__sidebar__item__title">Brands</h3>
								<ul class="list-unstyled shop-one__sidebar__Brand__list">

									<select class="shop-one__product-sorter" name="" id="brandDropdown">
										<option value="">Select a brand</option>
									</select>
								</ul>
								<br>

								<h3 class="shop-one__sidebar__item__title">Categories</h3>
								<ul class="list-unstyled shop-one__sidebar__category__list">
									<!-- Categories and subcategories will be dynamically added here -->
								</ul>
							</div><!-- /.shop-one__sidebar__item -->


						</div><!-- /.shop-one__sidebar -->
					</div><!-- /.col-lg-3 -->
					<div class="col-xl-9">
						<div class="row" id="product-container">
							<!-- Product cards will be dynamically inserted here -->
						</div><!-- /.row -->
					</div><!-- /.col-lg-9 -->
				</div><!-- /.row -->
			</div><!-- /.container -->

			<!-- pagination -->
			<div class="pagination-wrapper text-center">
				<ul class="pagination justify-content-center">
					<li class="page-item"><a href="#" class="page-link">Previous</a></li>
					<li class="page-item"><a href="#" class="page-link">1</a></li>
					<li class="page-item"><a href="#" class="page-link">2</a></li>
					<li class="page-item"><a href="#" class="page-link">3</a></li>
					<li class="page-item"><a href="#" class="page-link">Next</a></li>
				</ul>
			</div>
			<!-- ---------- -->

		</section><!-- /.shop-one -->


		<!--Site Footer One Start-->
        <footer id="site-footer" class="site-footer">
            <div class="container">
                <div class="row">
                    <div class="col-xl-3 col-lg-6 col-md-6 col-sm-12 mb-4 mb-xl-0">
                        <div class="widget-footer">
                            <img src="images/logo-grey3.png-logo" alt="">
                            <p>We provides a full range of interior design, architectural design.</p>
                            <div class="footer-social list-social">
                                <ul>
									<ul>
										<li><a href="https://www.facebook.com/share/14jpjQHKZZf/?mibextid=wwXIfr" target="_self"><i class="fab fa-facebook-f"></i></a></li>
										<li><a href="https://www.instagram.com/kitchen_art_hub_furniture?igsh=MWxxYmV5ZTVpenY2bg==" target="_self"><i class="fab fa-instagram"></i></a></li>
									</ul>
                                </ul>
                            </div>
                        </div>
                    </div>
					
                    <div class="col-xl-3 col-lg-6 col-md-6 col-sm-12 mb-4 mb-xl-0">
                        <div class="widget-footer">
                            <h6>Contacts</h6>
                            <ul class="footer-list">
                                <li class="footer-list-item">
                                    <span class="list-item-icon"><i class="ot-flaticon-place"></i></span>
                                    <span class="list-item-text">18 November Street <br> Behind Porsche Showroom <br>Muscat 
                                    | Oman</span>
                                </li>
                                <li class="footer-list-item">
                                    <span class="list-item-icon"><i class="ot-flaticon-mail"></i></span>
                                    <span class="list-item-text">kitchens.art@kayanoman.com</span>
                                </li>
                                <li class="footer-list-item">
                                    <span class="list-item-icon"><i class="ot-flaticon-phone-call"></i></span>
                                    <span class="list-item-text">+968-24125994</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-xl-3 col-lg-6 col-md-6 col-sm-12 mb-4 mb-md-0">
                        <div class="widget-footer widget-contact">
                            <h6>Our Categories</h6>
                            <ul>
                                <li><a href="shop.html">Furniture</a></li>
                                <li><a href="shop.html">Kitchens</a></li>
                                <li><a href="shop.html">Appliances</a></li>
                            </ul>
                        </div>
                    </div>
    
                    <div class="col-xl-3 col-lg-6 col-md-6 col-sm-12 mb-4 mb-md-0">
                        <div class="widget-footer widget-contact">
                            <h6>Pages</h6>
                            <ul>
                                <li><a href="../../Website/about-us.html">About-US</a></li>
                                <li><a href="../../Website/contact.html">Contact-Us</a></li>
                                <li><a href="Brands.html">Our Brands</a></li>
                            </ul>
                        </div>
                    </div>
                    
                </div>
            </div>
        </footer><!-- #site-footer -->
        <div class="footer-bottom">
            <div class="container">
                <div class="row">
                    <div class="col-lg-7 col-md-12 mb-4 mb-lg-0">
                        <p>Website Designed & Created by | <a class="text-light" href="#"> &nbsp; Code Craft 7</a></p>
                    </div>
                    <div class="col-lg-5 col-md-12 align-self-center">
                        <ul class="icon-list-items inline-items justify-content-lg-end">
                            <li class="icon-list-item inline-item">
                                <a href="../../Website/contact.html"><span class="icon-list-text">Contact Us</span></a>
                            </li>
                            <li class="icon-list-item inline-item">
                                <a href="#"><span class="icon-list-text">Kayan Oman</span></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
		<!--Site Footer One End-->


	</div><!-- /.page-wrapper -->


	<div class="mobile-nav__wrapper">
		<div class="mobile-nav__overlay mobile-nav__toggler"></div>
		<!-- /.mobile-nav__overlay -->
		<div class="mobile-nav__content">
			<span class="mobile-nav__close mobile-nav__toggler"><i class="fa fa-times"></i></span>

			<div class="logo-box">
				<a href="../../Website/index.html" aria-label="logo image"><img src="assets/images/logo-grey3.png" width="155"
						alt="" /></a>
			</div>
			<!-- /.logo-box -->
			<div class="mobile-nav__container"></div>
			<!-- /.mobile-nav__container -->

			<ul class="mobile-nav__contact list-unstyled">
				<li>
					<i class="fa fa-envelope"></i>
					<a href="mailto:needhelp@packageName__.com">needhelp@aivons.com</a>
				</li>
				<li>
					<i class="fa fa-phone-alt"></i>
					<a href="tel:666-888-0000">666 888 0000</a>
				</li>
			</ul><!-- /.mobile-nav__contact -->
			<div class="mobile-nav__top">
				<div class="mobile-nav__social">
					<a href="#" class="fab fa-twitter"></a>
					<a href="#" class="fab fa-facebook-square"></a>
					<a href="#" class="fab fa-pinterest-p"></a>
					<a href="#" class="fab fa-instagram"></a>
				</div><!-- /.mobile-nav__social -->
			</div><!-- /.mobile-nav__top -->



		</div>
		<!-- /.mobile-nav__content -->
	</div>
	<!-- /.mobile-nav__wrapper -->

	<div class="search-popup">
		<div class="search-popup__overlay search-toggler"></div>
		<!-- /.search-popup__overlay -->
		<div class="search-popup__content">
			<form action="#">
				<label for="search" class="sr-only">search here</label><!-- /.sr-only -->
				<input type="text" id="search" placeholder="Search Here..." />
				<button type="submit" aria-label="search submit" class="thm-btn">
					<i class="icon-magnifying-glass"></i>
				</button>
			</form>
		</div>
		<!-- /.search-popup__content -->
	</div>
	<!-- /.search-popup -->

	<a id="back-to-top" href="#" class="show"><i class="ot-flaticon-left-arrow"></i></a>

	<script src="assets/vendors/jquery/jquery-3.5.1.min.js"></script>
	<script src="assets/vendors/bootstrap/js/bootstrap.bundle.min.js"></script>
	<script src="assets/vendors/jarallax/jarallax.min.js"></script>
	<script src="assets/vendors/jquery-ajaxchimp/jquery.ajaxchimp.min.js"></script>
	<script src="assets/vendors/jquery-appear/jquery.appear.min.js"></script>
	<script src="assets/vendors/jquery-circle-progress/jquery.circle-progress.min.js"></script>
	<script src="assets/vendors/jquery-magnific-popup/jquery.magnific-popup.min.js"></script>
	<script src="assets/vendors/jquery-validate/jquery.validate.min.js"></script>
	<script src="assets/vendors/nouislider/nouislider.min.js"></script>
	<script src="assets/vendors/odometer/odometer.min.js"></script>
	<script src="assets/vendors/swiper/swiper.min.js"></script>
	<script src="assets/vendors/tiny-slider/tiny-slider.min.js"></script>
	<script src="assets/vendors/wnumb/wNumb.min.js"></script>
	<script src="assets/vendors/wow/wow.js"></script>
	<script src="assets/vendors/isotope/isotope.js"></script>
	<script src="assets/vendors/countdown/countdown.min.js"></script>
	<script src="assets/vendors/owl-carousel/owl.carousel.min.js"></script>
	<script src="assets/vendors/twentytwenty/twentytwenty.js"></script>
	<script src="assets/vendors/twentytwenty/jquery.event.move.js"></script>
	<script src="assets/vendors/bxslider/js/jquery.bxslider.min.js"></script>
	<script src="js/jquery.min.js"></script>
	<script src="js/mousewheel.min.js"></script>
	<script src="js/lightgallery-all.min.js"></script>
	<script src="js/jquery.magnific-popup.min.js"></script>
	<script src="js/jquery.isotope.min.js"></script>
	<script src="js/owl.carousel.min.js"></script>
	<script src="js/easypiechart.min.js"></script>
	<script src="js/jquery.countdown.min.js"></script>
	<script src="js/scripts.js"></script>
	<script src="js/royal_preloader.min.js"></script>
	<!-- REVOLUTION JS FILES -->

	<script  src="plugins/revolution/revolution/js/jquery.themepunch.tools.min.js"></script>
	<script  src="plugins/revolution/revolution/js/jquery.themepunch.revolution.min.js"></script>

	<!-- SLIDER REVOLUTION 5.0 EXTENSIONS  (Load Extensions only on Local File Systems !  The following part can be removed on Server for On Demand Loading) -->    
	<script  src="plugins/revolution/revolution/js/extensions/revolution-plugin.js"></script>

	<!-- REVOLUTION SLIDER SCRIPT FILES -->
	

	<script src="http://maps.google.com/maps/api/js?key=AIzaSyATY4Rxc8jNvDpsK8ZetC7JyN4PFVYGCGM"></script>


	<!-- template js -->
	<script src="assets/js/aivons.js"></script>


	<script>
		const API_BASE = "http://localhost:2000/public";
			const IMAGE_BASE = "http://localhost:2000";
		
			const isShopPage = () => window.location.pathname.includes('shop.html');
		
			const updateQueryParams = (paramsToUpdate, removeParams = []) => {
				const urlParams = new URLSearchParams(window.location.search);
		
					for (const key in paramsToUpdate) {
						urlParams.set(key, paramsToUpdate[key]);
					}

					removeParams.forEach((param) => urlParams.delete(param));

					const newURL = `${window.location.pathname}?${urlParams.toString()}`;
					window.history.replaceState(null, '', newURL);
				};

				const resetToMainURLIfNeeded = () => {
					if (isShopPage()) {
						const urlParams = new URLSearchParams(window.location.search);
						const hasFilters =
							urlParams.get('brand_id') ||
							urlParams.get('sub_category_id') ||
							urlParams.get('category_id') ||
							urlParams.get('search');

						if (!hasFilters) {
							window.history.replaceState(null, '', window.location.pathname);
						}
					}
				};

				let allProducts = [];
				let productsPerPage = 8;
				let currentPage = 1;

				const fetchProducts = () => {
					if (!isShopPage()) return;

					const urlParams = new URLSearchParams(window.location.search);
					const brand_id = urlParams.get('brand_id');
					const sub_category_id = urlParams.get('sub_category_id');
					const category_id = urlParams.get('category_id');
					const search = urlParams.get('search');

					let filter = {};
					if (brand_id) filter.brand_id = brand_id;
					if (sub_category_id) filter.sub_category_id = sub_category_id;
					if (category_id) filter.category_id = category_id;
					if (search) filter.search = search;

					let url = `${API_BASE}/searchClientProductEn`;
					const params = new URLSearchParams(filter);

					if (params.toString()) {
						url += `?${params.toString()}`;
					}

					fetch(url)
				.then((response) => response.json())
				.then((data) => {
					const productContainer = document.getElementById('product-container');
					productContainer.innerHTML = '';

					if (data.products && data.products.length > 0) {
						allProducts = deduplicateProducts(data.products);
						renderProducts();
						renderPagination();
					} else {
						productContainer.innerHTML = '<p>No products found for the selected filters.</p>';
						document.querySelector('.pagination-wrapper').style.display = 'none';
					}
				})
							.catch((error) => {
								console.error('Error fetching products:', error);
								document.getElementById('product-container').innerHTML = '<p>Error fetching products.</p>';
							});
					};
				
			const deduplicateProducts = (products) => {
				const uniqueProducts = [];
				const productIds = new Set();

				products.forEach((product) => {
					if (!productIds.has(product.product_id)) {
						productIds.add(product.product_id);
						uniqueProducts.push(product);
					}
				});

				return uniqueProducts;
			};

			const renderProducts = () => {
				const productContainer = document.getElementById('product-container');
			productContainer.innerHTML = '';
			
			const start = (currentPage - 1) * productsPerPage;
			const end = start + productsPerPage;
			const productsToRender = allProducts.slice(start, end);
			
			productsToRender.forEach((product) => {
				const discountBadge =
					product.product_sale > 0
						? `<span class="shop-one__sale">${product.product_sale}% Off</span>`
						: '';
			
				const productCard = `
					<div class="col-md-6">
						<div class="shop-one__item border" style="border-radius:15px;">
							<div class="shop-one__image h-100" >
								${discountBadge}
								<img src="${IMAGE_BASE}${product.product_image}" alt="${product.product_name}" class="product-img-res">
								<a href="product-details.html?product_id=${product.product_id}" class="thm-btn shop-one__cart">
									More Details!
								</a>
							</div>
							<div class="shop-one__content text-center">
								<h3 class="shop-one__title">
									<a href="product-details.html?product_id=${product.product_id}">${product.product_name}</a>
								</h3>
								<p>${product.brand_name}</p>
							</div>
						</div>
					</div>
				`;

				productContainer.innerHTML += productCard;
			});
		};
	
			const renderPagination = () => {
				const paginationContainer = document.querySelector('.pagination');
			paginationContainer.innerHTML = '';
			
			const totalPages = Math.ceil(allProducts.length / productsPerPage);
			
			if (totalPages <= 1) {
				document.querySelector('.pagination-wrapper').style.display = 'none';
				return;
			} else {
				document.querySelector('.pagination-wrapper').style.display = 'block';
			}

			const prevPageItem = document.createElement('li');
			prevPageItem.classList.add('page-item');
			if (currentPage === 1) prevPageItem.classList.add('disabled');
			prevPageItem.innerHTML = `<a href="#" class="page-link">Previous</a>`;
			prevPageItem.addEventListener('click', (e) => {
				e.preventDefault();
				if (currentPage > 1) {
					currentPage--;
					renderProducts();
					renderPagination();
				}
			});
			paginationContainer.appendChild(prevPageItem);
					
			for (let i = 1; i <= totalPages; i++) {
				const pageItem = document.createElement('li');
				pageItem.classList.add('page-item');
				if (i === currentPage) pageItem.classList.add('active');
				pageItem.innerHTML = `<a href="#" class="page-link">${i}</a>`;
				pageItem.addEventListener('click', (e) => {
					e.preventDefault();
					currentPage = i;
					renderProducts();
					renderPagination();
				});
				paginationContainer.appendChild(pageItem);
			}
					
			const nextPageItem = document.createElement('li');
			nextPageItem.classList.add('page-item');
			if (currentPage === totalPages) nextPageItem.classList.add('disabled');
			nextPageItem.innerHTML = `<a href="#" class="page-link">Next</a>`;
			nextPageItem.addEventListener('click', (e) => {
				e.preventDefault();
				if (currentPage < totalPages) {
					currentPage++;
					renderProducts();
					renderPagination();
				}
			});
							paginationContainer.appendChild(nextPageItem);
						};
					
			const fetchBrands = () => {
			const brandDropdown = document.getElementById('brandDropdown');
			const urlParams = new URLSearchParams(window.location.search);
			const selectedBrand = urlParams.get('brand_id');

			fetch(`${API_BASE}/getClientBrand`)
				.then((response) => response.json())
				.then((data) => {
					brandDropdown.innerHTML = '<option value="">Select a brand</option>';

					data.brands.forEach((brand) => {
						const option = document.createElement('option');
						option.value = brand.brand_id;
						option.textContent = brand.brand_name;

						if (selectedBrand && selectedBrand === brand.brand_id) {
							option.selected = true;
						}
						
						brandDropdown.appendChild(option);
					});

					// Add "All Products" option
					const allProductsOption = document.createElement('option');
					allProductsOption.value = '';
					allProductsOption.textContent = 'All Products';
					if (!selectedBrand) allProductsOption.selected = true;
					brandDropdown.appendChild(allProductsOption);

					brandDropdown.addEventListener('change', () => {
						const brand_id = brandDropdown.value;
						updateQueryParams({ brand_id }, ['sub_category_id', 'category_id', 'search']);
						currentPage = 1;
						fetchProducts();
					});
				})
				.catch((error) => console.error('Error fetching brands:', error));
			};
		
			const fetchCategories = () => {
				fetch(`${API_BASE}/getClientEnglishCategoriesWithSubCategories`)
				.then((response) => response.json())
				.then((data) => {
					const categoryList = document.querySelector('.shop-one__sidebar__category__list');
					const urlParams = new URLSearchParams(window.location.search);
					const selectedCategory = urlParams.get('category_id');
					const selectedSubCategory = urlParams.get('sub_category_id');

					data.categories.forEach((category) => {
						const categoryItem = document.createElement('li');

						const categoryTitle = document.createElement('a');
						categoryTitle.textContent = category.category_name;
						categoryTitle.href = "#";
						categoryTitle.style.fontWeight = "bold";
						categoryTitle.style.display = "block";

						categoryTitle.addEventListener('click', (e) => {
							e.preventDefault();
							updateQueryParams({ category_id: category.category_id }, ['sub_category_id', 'brand_id', 'search']);
							currentPage = 1;
							fetchProducts();
						});
						categoryItem.appendChild(categoryTitle);
	
						if (category.subcategories && category.subcategories.length > 0) {
							const subCategoryDropdown = document.createElement('select');
							subCategoryDropdown.classList.add('shop-one__product-sorter');
						
							const defaultOption = document.createElement('option');
							defaultOption.value = "";
							defaultOption.textContent = "Select Subcategory";
							subCategoryDropdown.appendChild(defaultOption);
							
							category.subcategories.forEach((subCategory) => {
								const option = document.createElement('option');
								option.value = subCategory.sub_category_id;
								option.textContent = subCategory.sub_category_name;

								if (selectedSubCategory && selectedSubCategory === subCategory.sub_category_id) {
									option.selected = true;
								}

								subCategoryDropdown.appendChild(option);
							});
								
							subCategoryDropdown.addEventListener('change', () => {
								const sub_category_id = subCategoryDropdown.value;
								updateQueryParams({ sub_category_id }, ['category_id', 'brand_id', 'search']);
								currentPage = 1;
								fetchProducts();
							});

							categoryItem.appendChild(subCategoryDropdown);
						}
						
						categoryList.appendChild(categoryItem);
					});
				})
							.catch((error) => console.error('Error fetching categories:', error));
					};
				
			const initSearch = () => {
				const searchInput = document.getElementById('search-input');
			const searchForm = document.querySelector('.shop-one__sidebar__search form');

			searchForm.addEventListener('submit', (e) => {
				e.preventDefault();
				const searchTerm = searchInput.value.trim();
				updateQueryParams({ search: searchTerm }, ['brand_id', 'category_id', 'sub_category_id']);
				currentPage = 1;
				fetchProducts();
			});
				};
			
			const initPage = () => {
					resetToMainURLIfNeeded();
					fetchBrands();
					fetchCategories();
					fetchProducts();
					initSearch();
				};

				document.addEventListener('DOMContentLoaded', initPage);
	</script>
	<script  src="js/rev-script-1.js"></script>
	<script>
        window.jQuery = window.$ = jQuery;  
        (function($) { "use strict";
            //Preloader
            Royal_Preloader.config({
                mode           :   'progress',
                background     :   '#1a1a1a',
            });
        })(jQuery);
    </script> 
	

</body>
    </html>
